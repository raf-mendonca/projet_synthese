{"ast":null,"code":"import _slicedToArray from\"C:/Users/raped/eStageGit/eStage/projet_synthese/estage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useParams,useHistory}from\"react-router-dom\";import{useState,useEffect}from\"react\";import useFetch from\"../useFetch\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListeCandidats=function ListeCandidats(props){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useFetch=useFetch(\"http://localhost:8000/landingPageData/candidats/\"+id),candidats=_useFetch.data,error=_useFetch.error,isPending=_useFetch.isPending;var _useState=useState(),_useState2=_slicedToArray(_useState,2),landingPageData=_useState2[0],setLandingPageData=_useState2[1];useEffect(function(){fetch(\"http://localhost:8000/landingPageData\").then(function(res){return res.json();}).then(function(data){console.log(data,\"!!!!!!!!!!!!!!!!!\");setLandingPageData(data);});},[]);var handleDelete=function handleDelete(){fetch(\"http://localhost:8000/landingPageData/Stages/\"+candidats.id,{method:\"DELETE\"}).then(function(){history.pushState(\"/liste-candidats\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"ListeCandidats \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-title text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Liste de candidats\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Ceci est une liste pour les Employeurs\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:props.data?props.data.map(function(d,i){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"testimonial\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"testimonial-meta\",children:[\" - \",d.nom,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"testimonial-content\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\"\",d.experience,\"\\\"\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"testimonial-meta\",children:[\" - \",d.domaine,\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"testimonial-content\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\"\",d.motivation,\"\\\"\"]})})]})},\"\".concat(d,\"-\").concat(i));}):\"loading\"})]})});};export default ListeCandidats;","map":{"version":3,"sources":["C:/Users/raped/eStageGit/eStage/projet_synthese/estage/src/views/liste-candidats.jsx"],"names":["React","useParams","useHistory","useState","useEffect","useFetch","ListeCandidats","props","id","history","candidats","data","error","isPending","landingPageData","setLandingPageData","fetch","then","res","json","console","log","handleDelete","method","pushState","map","d","i","nom","experience","domaine","motivation"],"mappings":"6KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,kBAAtC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,gBACjBN,SAAS,EADQ,CACxBO,EADwB,YACxBA,EADwB,CAEhC,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAFgC,cAGcG,QAAQ,CACpD,mDAAqDG,EADD,CAHtB,CAGlBE,SAHkB,WAGxBC,IAHwB,CAGPC,KAHO,WAGPA,KAHO,CAGAC,SAHA,WAGAA,SAHA,eAOcV,QAAQ,EAPtB,wCAOzBW,eAPyB,eAORC,kBAPQ,eAQhCX,SAAS,CAAC,UAAM,CACdY,KAAK,CAAC,uCAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACb,MAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,CACD,CAHH,EAIGF,IAJH,CAIQ,SAACN,IAAD,CAAU,CACdS,OAAO,CAACC,GAAR,CAAYV,IAAZ,CAAkB,mBAAlB,EACAI,kBAAkB,CAACJ,IAAD,CAAlB,CACD,CAPH,EAQD,CATQ,CASN,EATM,CAAT,CAWA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBN,KAAK,CAAC,gDAAkDN,SAAS,CAACF,EAA7D,CAAiE,CACpEe,MAAM,CAAE,QAD4D,CAAjE,CAAL,CAEGN,IAFH,CAEQ,UAAM,CACZR,OAAO,CAACe,SAAR,CAAkB,kBAAlB,EACD,CAJD,EAKD,CAND,CAQA,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,0CADF,cAEE,8DAFF,GADF,cAKE,YAAK,SAAS,CAAC,KAAf,UACGjB,KAAK,CAACI,IAAN,CACGJ,KAAK,CAACI,IAAN,CAAWc,GAAX,CAAe,SAACC,CAAD,CAAIC,CAAJ,qBACb,YAAuB,SAAS,CAAC,UAAjC,uBACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,kBAAf,iBAAsCD,CAAC,CAACE,GAAxC,OADF,cAEE,YAAK,SAAS,CAAC,qBAAf,uBACE,0BAAKF,CAAC,CAACG,UAAP,QADF,EAFF,cAKE,aAAK,SAAS,CAAC,kBAAf,iBAAsCH,CAAC,CAACI,OAAxC,OALF,cAME,YAAK,SAAS,CAAC,qBAAf,uBACE,0BAAKJ,CAAC,CAACK,UAAP,QADF,EANF,GADF,YAAaL,CAAb,aAAkBC,CAAlB,EADa,EAAf,CADH,CAeG,SAhBN,EALF,GADF,EADF,CA4BD,CAvDD,CAyDA,cAAerB,CAAAA,cAAf","sourcesContent":["import React from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport useFetch from \"../useFetch\";\r\n\r\nconst ListeCandidats = (props) => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const { data: candidats, error, isPending } = useFetch(\r\n    \"http://localhost:8000/landingPageData/candidats/\" + id\r\n  );\r\n\r\n  const [landingPageData, setLandingPageData] = useState();\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8000/landingPageData\")\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(data, \"!!!!!!!!!!!!!!!!!\");\r\n        setLandingPageData(data);\r\n      });\r\n  }, []);\r\n\r\n  const handleDelete = () => {\r\n    fetch(\"http://localhost:8000/landingPageData/Stages/\" + candidats.id, {\r\n      method: \"DELETE\",\r\n    }).then(() => {\r\n      history.pushState(\"/liste-candidats\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"ListeCandidats \">\r\n      <div className=\"container mt-3\">\r\n        <div className=\"section-title text-center\">\r\n          <h2>Liste de candidats</h2>\r\n          <h4>Ceci est une liste pour les Employeurs</h4>\r\n        </div>\r\n        <div className=\"row\">\r\n          {props.data\r\n            ? props.data.map((d, i) => (\r\n                <div key={`${d}-${i}`} className=\"col-md-4\">\r\n                  <div className=\"testimonial\">\r\n                    <div className=\"testimonial-meta\"> - {d.nom} </div>\r\n                    <div className=\"testimonial-content\">\r\n                      <p>\"{d.experience}\"</p>\r\n                    </div>\r\n                    <div className=\"testimonial-meta\"> - {d.domaine} </div>\r\n                    <div className=\"testimonial-content\">\r\n                      <p>\"{d.motivation}\"</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            : \"loading\"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListeCandidats;\r\n"]},"metadata":{},"sourceType":"module"}