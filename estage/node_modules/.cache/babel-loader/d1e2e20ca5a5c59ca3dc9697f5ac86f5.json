{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raped\\\\eStageGit\\\\eStage\\\\estage\\\\src\\\\views\\\\ajouter-offre.jsx\";\n//Rafael de Mendonça\n//Date: 2021-04-04\n// Commentaires dans la page AJOUTER-STAGE\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst headerProps = {\n  icon: \"users\",\n  title: \"Usuários\",\n  subtitle: \"Cadastro de usuários: Incluir, Listar, Alterar e Excluir!\"\n};\nconst baseUrl = \"http://localhost:8000/offres\";\nconst initialState = {\n  offre: {\n    entreprise: \"\",\n    domaine: \"\",\n    experience: \"\",\n    description: \"\",\n    email: \"\"\n  },\n  list: []\n};\nexport default class AjouterOffre extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...initialState\n    };\n  }\n\n  componentWillMount() {\n    axios(baseUrl).then(resp => {\n      this.setState({\n        list: resp.data\n      });\n    });\n  }\n\n  clear() {\n    this.setState({\n      offre: initialState.offre\n    });\n  }\n\n  save() {\n    const offre = this.state.offre;\n    const method = offre.id ? \"put\" : \"post\";\n    const url = offre.id ? `${baseUrl}/${offre.id}` : baseUrl;\n    axios[method](url, offre).then(resp => {\n      const list = this.getUpdatedList(resp.data);\n      this.setState({\n        offre: initialState.offre,\n        list\n      });\n    });\n  }\n\n  getUpdatedList(offre, add = true) {\n    const list = this.state.list.filter(o => o.id !== offre.id);\n    if (add) list.unshift(offre);\n    return list;\n  }\n\n  updateField(event) {\n    const offre = { ...this.state.offre\n    };\n    offre[event.target.name] = event.target.value;\n    this.setState({\n      offre\n    });\n  }\n\n  renderForm() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Entreprise\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"entreprise\",\n              value: this.state.offre.entreprise,\n              onChange: e => this.updateField(e),\n              placeholder: \"Digitez le nom de l'entreprise.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Domaine\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"domaine\",\n              value: this.state.offre.domaine,\n              onChange: e => this.updateField(e),\n              placeholder: \"Digitez le domaine de l'offre...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Exeperience\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"experience\",\n              value: this.state.offre.experience,\n              onChange: e => this.updateField(e),\n              placeholder: \"Informez si il y a besoin d'exp\\xE9rience...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"motivation\",\n              value: this.state.offre.description,\n              onChange: e => this.updateField(e),\n              placeholder: \"Digitez la description de l'offre...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"E-mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"email\",\n              value: this.state.offre.email,\n              onChange: e => this.updateField(e),\n              placeholder: \"Digitez le contact du RH.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 d-flex justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-custom btn-lg\",\n            onClick: e => this.save(e),\n            children: \"Soumettre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-custom-warm btn-lg ml-2\",\n            onClick: e => this.clear(e),\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n  load(offre) {\n    this.setState({\n      offre\n    });\n  }\n\n  remove(offre) {\n    axios.delete(`${baseUrl}/${offre.id}`).then(resp => {\n      const list = this.getUpdatedList(offre, false);\n      this.setState({\n        list\n      });\n    });\n  }\n\n  renderTable() {\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Entreprise\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Domaine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Experience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"E-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: this.renderRows()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this);\n  }\n\n  renderRows() {\n    return this.state.list.map(offre => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.entreprise\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.domaine\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.experience\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: offre.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning btn-sm \",\n            onClick: () => this.load(offre),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-pencil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger ml-2 btn-sm\",\n            onClick: () => this.remove(offre),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-trash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, offre.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"ajouter-stage\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Ajouter une nouvelle offre de stage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: this.renderForm()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              style: {\n                maxHeight: \"50vh\",\n                overflow: \"auto\"\n              },\n              children: this.renderTable()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/raped/eStageGit/eStage/estage/src/views/ajouter-offre.jsx"],"names":["React","Component","axios","headerProps","icon","title","subtitle","baseUrl","initialState","offre","entreprise","domaine","experience","description","email","list","AjouterOffre","state","componentWillMount","then","resp","setState","data","clear","save","method","id","url","getUpdatedList","add","filter","o","unshift","updateField","event","target","name","value","renderForm","e","load","remove","delete","renderTable","renderRows","map","render","maxHeight","overflow"],"mappings":"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","sourcesContent":["//Rafael de Mendonça\r\n//Date: 2021-04-04\r\n// Commentaires dans la page AJOUTER-STAGE\r\nimport React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\n\r\nconst headerProps = {\r\n  icon: \"users\",\r\n  title: \"Usuários\",\r\n  subtitle: \"Cadastro de usuários: Incluir, Listar, Alterar e Excluir!\",\r\n};\r\n\r\nconst baseUrl = \"http://localhost:8000/offres\";\r\nconst initialState = {\r\n  offre: {\r\n    entreprise: \"\",\r\n    domaine: \"\",\r\n    experience: \"\",\r\n    description: \"\",\r\n    email: \"\",\r\n  },\r\n  list: [],\r\n};\r\n\r\nexport default class AjouterOffre extends Component {\r\n  state = { ...initialState };\r\n\r\n  componentWillMount() {\r\n    axios(baseUrl).then((resp) => {\r\n      this.setState({ list: resp.data });\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this.setState({ offre: initialState.offre });\r\n  }\r\n\r\n  save() {\r\n    const offre = this.state.offre;\r\n    const method = offre.id ? \"put\" : \"post\";\r\n    const url = offre.id ? `${baseUrl}/${offre.id}` : baseUrl;\r\n    axios[method](url, offre).then((resp) => {\r\n      const list = this.getUpdatedList(resp.data);\r\n      this.setState({ offre: initialState.offre, list });\r\n    });\r\n  }\r\n\r\n  getUpdatedList(offre, add = true) {\r\n    const list = this.state.list.filter((o) => o.id !== offre.id);\r\n    if (add) list.unshift(offre);\r\n    return list;\r\n  }\r\n\r\n  updateField(event) {\r\n    const offre = { ...this.state.offre };\r\n    offre[event.target.name] = event.target.value;\r\n    this.setState({ offre });\r\n  }\r\n\r\n  renderForm() {\r\n    return (\r\n      <div className=\"form\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>Entreprise</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"entreprise\"\r\n                value={this.state.offre.entreprise}\r\n                onChange={(e) => this.updateField(e)}\r\n                placeholder=\"Digitez le nom de l'entreprise.\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>Domaine</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"domaine\"\r\n                value={this.state.offre.domaine}\r\n                onChange={(e) => this.updateField(e)}\r\n                placeholder=\"Digitez le domaine de l'offre...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>Exeperience</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"experience\"\r\n                value={this.state.offre.experience}\r\n                onChange={(e) => this.updateField(e)}\r\n                placeholder=\"Informez si il y a besoin d'expérience...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>Description</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"motivation\"\r\n                value={this.state.offre.description}\r\n                onChange={(e) => this.updateField(e)}\r\n                placeholder=\"Digitez la description de l'offre...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12 col-md-6\">\r\n            <div className=\"form-group\">\r\n              <label>E-mail</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                value={this.state.offre.email}\r\n                onChange={(e) => this.updateField(e)}\r\n                placeholder=\"Digitez le contact du RH.\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n        <div className=\"row\">\r\n          <div className=\"col-12 d-flex justify-content-center\">\r\n            <button\r\n              className=\"btn btn-custom btn-lg\"\r\n              onClick={(e) => this.save(e)}\r\n            >\r\n              Soumettre\r\n            </button>\r\n\r\n            <button\r\n              className=\"btn btn-custom-warm btn-lg ml-2\"\r\n              onClick={(e) => this.clear(e)}\r\n            >\r\n              Annuler\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  load(offre) {\r\n    this.setState({ offre });\r\n  }\r\n\r\n  remove(offre) {\r\n    axios.delete(`${baseUrl}/${offre.id}`).then((resp) => {\r\n      const list = this.getUpdatedList(offre, false);\r\n      this.setState({ list });\r\n    });\r\n  }\r\n\r\n  renderTable() {\r\n    return (\r\n      <table className=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Entreprise</th>\r\n            <th>Domaine</th>\r\n            <th>Experience</th>\r\n            <th>Description</th>\r\n            <th>E-mail</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{this.renderRows()}</tbody>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  renderRows() {\r\n    return this.state.list.map((offre) => {\r\n      return (\r\n        <tr key={offre.id}>\r\n          <td>{offre.id}</td>\r\n          <td>{offre.entreprise}</td>\r\n          <td>{offre.domaine}</td>\r\n          <td>{offre.experience}</td>\r\n          <td>{offre.description}</td>\r\n          <td>{offre.email}</td>\r\n          <td>\r\n            <button\r\n              className=\"btn btn-warning btn-sm \"\r\n              onClick={() => this.load(offre)}\r\n            >\r\n              <i className=\"fa fa-pencil\"></i>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-danger ml-2 btn-sm\"\r\n              onClick={() => this.remove(offre)}\r\n            >\r\n              <i className=\"fa fa-trash\"></i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div id=\"ajouter-stage\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h2>Ajouter une nouvelle offre de stage</h2>\r\n              </div>\r\n              <div className=\"col-12\">{this.renderForm()}</div>\r\n\r\n              <div\r\n                className=\"col-12\"\r\n                style={{ maxHeight: \"50vh\", overflow: \"auto\" }}\r\n              >\r\n                {this.renderTable()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}